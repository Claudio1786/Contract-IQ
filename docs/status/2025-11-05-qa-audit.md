## QA & Product Audit — 2025-11-05

> Status updated 2025-11-05 14:25 PT

### Summary
- Core contract intelligence slice is wired end-to-end: FastAPI `/contracts/ingest` processes fixtures, emits analytics events, and the Next.js contract detail view renders clause intelligence, risk posture, obligations, and LLM playbook prompts.
- Portfolio dashboard now aggregates SaaS, Healthcare BAA, Public Sector SOW, and NIL fixtures with KPI cards, alerts feed, and vertical breakdowns backed by Vitest coverage.
- Shared packages (`@contract-iq/prompts`, `@contract-iq/analytics`, `@contract-iq/ui`) compile and test cleanly; ingestion service integration tests and web Vitest suite pass. Demo seeding CLI (`pnpm demo:seed`) produces reproducible QA snapshots.
- Workspace-level QA continues to rely on direct binary invocation (documented in `docs/dev-cli-workaround.md`). Poetry 2.2.1 has been reinstalled for this session to keep backend pytest green.
- Conclusion: **Still pre-deploy** — outbound notification plumbing, infrastructure enablement, and CI wiring remain outstanding before we can call the MVP deployable.

### Validation Snapshot
| Surface | Commands | Result |
| --- | --- | --- |
| UI package | `node node_modules/vitest/vitest.mjs run` | ✅ |
| Prompts package | `node node_modules/vitest/vitest.mjs run` | ✅ |
| Analytics package | `node node_modules/vitest/vitest.mjs run` | ✅ |
| Web app | `node node_modules/vitest/vitest.mjs run` *(Vite CJS warning persists)* | ✅ |
| API | `poetry install --no-root`, `poetry run pytest` | ✅ |

> Outstanding warnings: Vite CJS API deprecation logs during Vitest; direct-node CLI workaround still required on Windows.

### Completed Backlog Reference (Troubleshooting Anchor)
| Item | Completion Date | Evidence | Regression Guard |
| --- | --- | --- | --- |
| Workspace scaffold + dependency tooling | 2025-11-05 | Commit `2c1dbea`; roadmap Status Checkpoint. | `pnpm install --frozen-lockfile`, Turbo tasks (to be wired into CI). |
| Multi-vertical ingestion + dashboard metrics | 2025-11-05 | Commit `ff9a47a`; portfolio Vitest suite. | `node ./node_modules/vitest/vitest.mjs run` (apps/web). |
| Demo seeding CLI + docs refresh | 2025-11-05 | `pnpm demo:seed`; `docs/demo-environment-plan.md`. | Manual runbook; to be automated in CI smoke test. |

> Store regressions against the above anchors to accelerate root cause analysis during QA triage.

### Product Capability Gaps vs Competitors
- Outbound alerting (Slack/email) and background scheduler remain unbuilt.
- Automation beyond playbook prompts (e.g., notification routing, follow-up tasks) remains unbuilt.
- NIL-specific incentives/compliance deep-dives are not yet exposed beyond current KPI rollups.

### Next Iteration Focus
1. **Portfolio Dashboard & Alerts** – Portfolio KPIs, renewal alerts, compliance notifications, initial Slack/email integration.
2. **Infrastructure Execution** – Terraform scaffolding, deployment workflows, blob storage ingestion per demo plan.
3. **CI Hardening & CLI Tooling** – Resolve Windows CLI path friction and Vite CJS warnings, ensure repeatable QA commands.

### Action Items
- Track progress via new iteration backlog (see `docs/status/2025-11-05-iteration-plan.md`).
- Maintain daily QA cadence using documented direct command invocations and `pnpm demo:seed` snapshots.
- Close remaining capability gaps before drafting deploy plan / demo script.
